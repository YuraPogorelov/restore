{"version":3,"sources":["components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-contex.js","components/hoc/with-bookstore-service.js","actions/index.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/shopping-cart-table/index.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/home-page.js","components/pages/cart-page.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/index.js","store.js","index.js"],"names":["BookListItem","book","onAddedToCart","title","author","price","coverImage","className","src","alt","onClick","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","fetchBooks","dispatch","type","getBooks","then","data","payload","catch","err","compose","funcs","comp","reduceRight","wrapped","f","Spinner","ErrorIndicator","BookList","books","map","key","id","BookListContainer","this","loading","error","Component","connect","ShoppingCartTable","items","cartItems","total","orderTotal","onIncrease","console","log","onDecrease","onDelete","item","idx","name","count","HomePage","CartPage","ShopHeader","numItems","to","href","App","role","path","component","exact","ErrorBoundry","state","hasError","setState","children","BookstoreService","Promise","resolve","reject","setTimeout","initialState","reducer","action","bookId","find","newItem","store","createStore","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.e213f34f.chunk.js","sourcesContent":["import BookListItem from \"./book-list-item\";\n\nexport default BookListItem\n","import React from 'react';\nimport './book-list-item.css';\n\nconst BookListItem = ({ book, onAddedToCart }) => {\n  const { title, author, price, coverImage } = book;\n  return (\n    <div className=\"book-list-item\">\n      <div className=\"book-cover\">\n        <img src={coverImage} alt=\"cover\" />\n      </div>\n      <div className=\"book-details\">\n        <span className=\"book-title\">{title}</span>\n        <div className=\"book-author\">{author}</div>\n        <div className=\"book-price\">${price}</div>\n        <button\n          onClick={onAddedToCart}\n          className=\"btn btn-info add-to-cart\">\n          Add to cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default BookListItem;  ","import React from \"react\";\n\nconst {\n    Provider: BookstoreServiceProvider,\n    Consumer: BookstoreServiceConsumer\n} = React.createContext()\n\nexport {\n    BookstoreServiceProvider,\n    BookstoreServiceConsumer\n}\n","import React from \"react\";\n\nimport { BookstoreServiceConsumer } from \"../bookstore-service-context\";\n\nconst withBookstoreService = () => (Wrapped) => {\n  return (props) => {\n    return (\n      <BookstoreServiceConsumer>\n        {(bookstoreService) => {\n          return <Wrapped {...props} bookstoreService={bookstoreService} />;\n        }}\n      </BookstoreServiceConsumer>\n    );\n  };\n};\n\nexport default withBookstoreService;\n","const booksRequested = () => {\n  return {\n    type: \"FETCH_BOOKS_REQUEST\",\n  };\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: \"FETCH_BOOKS_SUCCESS\",\n    payload: newBooks,\n  };\n};\n\nconst booksError = (error) => {\n  return {\n    type: \"FETCH_BOOKS_FAILURE\",\n    payload: error,\n  };\n};\n\nexport const bookAddedToCart = (bookId) => {\n  return {\n    type: \"BOOK_ADDED_TO_CART\",\n    payload: bookId,\n  };\n};\n\nconst fetchBooks = (bookstoreService, dispatch) => () => {\n  dispatch(booksRequested());\n  bookstoreService\n    .getBooks()\n    .then((data) => dispatch(booksLoaded(data)))\n    .catch((err) => dispatch(booksError(err)));\n};\n\nexport { fetchBooks };\n","const compose = (...funcs) => (comp) => {\n  return funcs.reduceRight((wrapped, f) => f(wrapped), comp);\n};\n\nexport default compose;\n","import Spinner from \"./spinner\";\n\nexport default Spinner\n","import React from \"react\";\n\nimport './spinner.css'\n\nconst Spinner = () => {\n    return <div>loading...</div>\n}\n\nexport default Spinner\n","import ErrorIndicator from \"./error-indicator\";\n\nexport default ErrorIndicator\n","import React from \"react\";\n\nimport './error-indicator.css'\n\nconst ErrorIndicator = () => {\n    return <div>Error!</div>\n}\n\nexport default ErrorIndicator\n","import React, { Component } from \"react\";\nimport BookListItem from \"../book-list-item\";\n\nimport { connect } from \"react-redux\";\n\nimport { withBookstoreService } from \"../hoc\";\nimport { fetchBooks, bookAddedToCart } from \"../../actions\";\nimport { compose } from \"../../utils\";\n\nimport Spinner from \"../spinner\";\nimport ErrorIndicator from \"../error-indicator\";\n\nimport \"./book-list.css\";\n\nconst BookList = ({ books, onAddedToCart }) => {\n  return (\n    <ul className=\"book-list\">\n      {books.map((book) => {\n        return (\n          <li key={book.id}>\n            <BookListItem\n              book={book}\n              onAddedToCart={() => onAddedToCart(book.id)}\n            />\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nclass BookListContainer extends Component {\n  componentDidMount() {\n    this.props.fetchBooks();\n  }\n\n  render() {\n    const { books, loading, error, onAddedToCart } = this.props;\n\n    if (loading) {\n      return <Spinner />;\n    }\n\n    if (error) {\n      return <ErrorIndicator />;\n    }\n\n    return <BookList books={books} onAddedToCart={onAddedToCart} />;\n  }\n}\n\nconst mapStateToProps = ({ books, loading, error }) => {\n  return { books, loading, error };\n};\n\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\n  return {\n    fetchBooks: fetchBooks(bookstoreService, dispatch),\n    onAddedToCart: (id) => dispatch(bookAddedToCart(id)),\n  };\n};\n\nexport default compose(\n  withBookstoreService(),\n  connect(mapStateToProps, mapDispatchToProps)\n)(BookListContainer);\n","import BookList from \"./book-list\";\n\nexport default BookList\n","import ShoppingCartTable from \"./shopping-cart-table\";\n\nexport default ShoppingCartTable;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport \"./shopping-cart-table.css\";\n\nconst ShoppingCartTable = ({\n  items,\n  total,\n  onIncrease,\n  onDecrease,\n  onDelete,\n}) => {\n  const renderRow = (item, idx) => {\n    const { id, name, count, total } = item;\n    return (\n      <tr key={id}>\n        <td>{idx + 1 }</td>\n        <td>{name}</td>\n        <td>{count}</td>\n        <td>$ {total}</td>\n        <td>\n          <button\n            onClick={() => onDecrease(id)}\n            className=\"btn btn-outline-danger btn-sm float-right\"\n          >\n            <i className=\"fa fa-trash-o\" />\n          </button>\n          <button\n            onClick={() => onIncrease(id)}\n            className=\"btn btn-outline-success btn-sm float-right\"\n          >\n            <i className=\"fa fa-plus-circle\" />\n          </button>\n          <button\n            onClick={() => onDelete(id)}\n            className=\"btn btn-outline-warning btn-sm float-right\"\n          >\n            <i className=\"fa fa-minus-circle\" />\n          </button>\n        </td>\n      </tr>\n    );\n  };\n  return (\n    <div className=\"shopping-cart-table\">\n      <h2>Your Order</h2>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Item</th>\n            <th>Count</th>\n            <th>Price</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n        <tbody>{items.map(renderRow)}</tbody>\n      </table>\n\n      <div className=\"total\">Total: $ {total}</div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ cartItems, orderTotal }) => {\n  return {\n    items: cartItems,\n    total: orderTotal,\n  };\n};\n\nconst mapDispatchToProps = () => {\n  return {\n    onIncrease: (id) => {\n      console.log(`Increase ${id}`);\n    },\n\n    onDecrease: (id) => {\n      console.log(`Decrease ${id}`);\n    },\n\n    onDelete: (id) => {\n      console.log(`Delete ${id}`);\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);\n ","import React from \"react\";\nimport BookList from \"../book-list\";\nimport ShoppingCartTable from \"../shopping-cart-table\";\n\nconst HomePage = () => {\n  return (\n    <div>\n      <BookList />\n      <ShoppingCartTable />\n    </div>\n  );\n};\n\nexport default HomePage;\n","import React from \"react\";\n\nconst CartPage = () => {\n    return <div>Cart Page</div>\n}\n\nexport default CartPage\n","import ShopHeader from './shop-header'\n\nexport default ShopHeader","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./shop-header.css\";\n\nconst ShopHeader = ({ numItems, total }) => {\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/\">\n        <div className=\"logo text-dark\" href=\"#\">\n          ReStore\n        </div>\n      </Link>\n      <Link to=\"/cart\">\n        <div className=\"shopping-cart\">\n          <i className=\"cart-icon fa fa-shopping-cart shopping-cart\" />\n          {numItems} items ($ {total})\n        </div>\n      </Link>\n    </header>\n  );\n};\n\nexport default ShopHeader;\n","import App from \"./app\";\n\nexport default App \n","import React from \"react\";\n\nimport \"./app.css\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { HomePage, CartPage } from \"../pages\";\nimport ShopHeader from \"../shop-header\";\n\nconst App = () => {\n  return (\n    <main role=\"main\" className=\"container\">\n      <ShopHeader numItems={5} total={210}/>\n      <Switch>\n        <Route path=\"/\" component={HomePage} exact />\n        <Route path=\"/cart\" component={CartPage} />\n      </Switch>\n    </main>\n  );\n};\n\nexport default App;\n","import ErrorBoundry from \"./error-boundry\";\n\nexport default ErrorBoundry\n","import React, {Component} from \"react\";\nimport ErrorIndicator from \"../error-indicator\";\n\nexport default class ErrorBoundry extends Component {\n\n    state = {\n        hasError: false\n    }\n\n    componentDidCatch() {\n        this.setState({hasError: true})\n    }\n\n    render() {\n        if (this.state.hasError){\n            return <ErrorIndicator />\n        }\n\n        return this.props.children\n    }\n}\n","export default class BookstoreService {\n  data = [\n    {\n      id: 1,\n      title: \"Production-Ready Microservices\",\n      author: \"Susan J. Fowler\",\n      price: 32,\n      coverImage:\n        \"https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg\",\n    },\n    {\n      id: 2,\n      title: \"Release It!\",\n      author: \"Michael T. Nygard\",\n      price: 45,\n      coverImage:\n        \"https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg\",\n    },\n  ];\n\n  getBooks() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        // if (Math.random() > 0.75) {\n        //   reject(new Error(\"Something bad happened\"));\n        // } else {\n        //   resolve(this.data);\n        // }\n        resolve(this.data);\n      }, 700);\n    });\n  }\n}\n","const initialState = {\n  books: [],\n  loading: true,\n  error: null,\n  cartItems: [],\n  orderTotal: 220,\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"FETCH_BOOKS_REQUEST\":\n      return {\n        ...state,\n        books: [],\n        loading: true,\n        error: null,\n      };\n\n    case \"FETCH_BOOKS_SUCCESS\":\n      return {\n        ...state,\n        books: action.payload,\n        loading: false,\n        error: null,\n      };\n\n    case \"FETCH_BOOKS_FAILURE\":\n      return {\n        ...state,\n        books: [],\n        loading: false,\n        error: action.payload,\n      };\n\n    case \"BOOK_ADDED_TO_CART\":\n      const bookId = action.payload;\n      const book = state.books.find((book) => book.id === bookId);\n      const newItem = {\n        id: book.id,\n        name: book.title,\n        count: 1,\n        total: book.price,\n      };\n\n      return {\n        ...state,\n        cartItems: [...state.cartItems, newItem],\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { createStore } from \"redux\"\nimport reducer from \"./reducers\"\n\nconst store = createStore(reducer)\n\nexport default store\n","import React from \"react\";\nimport ReactDOM from \"react-dom\"\nimport {Provider} from 'react-redux'\nimport {BrowserRouter as Router} from 'react-router-dom'\n\nimport App from \"./components/app\";\nimport ErrorBoundry from \"./components/error-boundry\";\nimport BookstoreService from \"./services/bookstore-service\";\nimport {BookstoreServiceProvider} from \"./components/bookstore-service-context\";\n\nimport store from \"./store\";\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n    <Provider store={store}>\n        <ErrorBoundry>\n            <BookstoreServiceProvider value={bookstoreService}>\n                <Router>\n                    <App />\n                </Router>\n            </BookstoreServiceProvider>\n        </ErrorBoundry>\n    </Provider>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}